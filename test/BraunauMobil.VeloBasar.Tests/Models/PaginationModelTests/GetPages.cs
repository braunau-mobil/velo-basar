using Xan.AspNetCore.Models;

namespace BraunauMobil.VeloBasar.Tests.Models.PaginationViewModelTests;

#warning @todo Xan Tests!
public class GetPages
{
    [Theory]
    [InlineData("", 0, 0)]
    [InlineData("1", 1, 1)]
    [InlineData("12", 1, 2)]
    [InlineData("123", 1, 3)]
    [InlineData("1234", 1, 4)]
    [InlineData("12345", 1, 5)]
    [InlineData("123.6", 1, 6)]
    [InlineData("123.7", 1, 7)]
    [InlineData("123.8", 1, 8)]
    [InlineData("123.9", 1, 9)]
    [InlineData("123.10", 1, 10)]
    [InlineData("12", 2, 2)]
    [InlineData("123", 2, 3)]
    [InlineData("1234", 2, 4)]
    [InlineData("12345", 2, 5)]
    [InlineData("123456", 2, 6)]
    [InlineData("1234.7", 2, 7)]
    [InlineData("1234.8", 2, 8)]
    [InlineData("1234.9", 2, 9)]
    [InlineData("1234.10", 2, 10)]
    [InlineData("123", 3, 3)]
    [InlineData("1234", 3, 4)]
    [InlineData("12345", 3, 5)]
    [InlineData("123456", 3, 6)]
    [InlineData("1234567", 3, 7)]
    [InlineData("12345.8", 3, 8)]
    [InlineData("12345.9", 3, 9)]
    [InlineData("12345.10", 3, 10)]
    [InlineData("1234", 4, 4)]
    [InlineData("12345", 4, 5)]
    [InlineData("123456", 4, 6)]
    [InlineData("1234567", 4, 7)]
    [InlineData("12345678", 4, 8)]
    [InlineData("123456.9", 4, 9)]
    [InlineData("123456.10", 4, 10)]
    [InlineData("12345", 5, 5)]
    [InlineData("123456", 5, 6)]
    [InlineData("1234567", 5, 7)]
    [InlineData("12345678", 5, 8)]
    [InlineData("123456789", 5, 9)]
    [InlineData("1234567.10", 5, 10)]
    [InlineData("1.456", 6, 6)]
    [InlineData("1.4567", 6, 7)]
    [InlineData("1.45678", 6, 8)]
    [InlineData("1.456789", 6, 9)]
    [InlineData("1.45678910", 6, 10)]
    [InlineData("1.45678.11", 6, 11)]
    [InlineData("1.45678.12", 6, 12)]
    [InlineData("1.45678.13", 6, 13)]
    [InlineData("1.567", 7, 7)]
    [InlineData("1.5678", 7, 8)]
    [InlineData("1.56789", 7, 9)]
    [InlineData("1.5678910", 7, 10)]
    [InlineData("1.567891011", 7, 11)]
    [InlineData("1.56789.12", 7, 12)]
    [InlineData("1.56789.13", 7, 13)]
    [InlineData("1.678", 8, 8)]
    [InlineData("1.6789", 8, 9)]
    [InlineData("1.678910", 8, 10)]
    [InlineData("1.67891011", 8, 11)]
    [InlineData("1.6789101112", 8, 12)]
    [InlineData("1.678910.13", 8, 13)]
    [InlineData("1.678910.14", 8, 14)]
    [InlineData("1.678910.15", 8, 15)]
    [InlineData("123.111", 1, 111)]
    [InlineData("1234.111", 2, 111)]
    [InlineData("12345.111", 3, 111)]
    [InlineData("123456.111", 4, 111)]
    [InlineData("1234567.111", 5, 111)]
    [InlineData("1.45678.111", 6, 111)]
    [InlineData("1.56789.111", 7, 111)]
    [InlineData("1.5253545556.111", 54, 111)]
    public void Test(string expectedButtons, int pageIndex, int totalPages)
    {
        var buttons = PaginationModel.GetPages(pageIndex, totalPages);
        Assert.Equal(expectedButtons, buttons.Select(b => b?.ToString() ?? ".").Aggregate("", (a, b) => a + b));
    }
}
