@page
@model SelectProductsModel

@using System.Linq;
@{
    ViewData["Title"] = Localizer["Artikel zum Stornieren auswählen"];
}

<form method="post">
    <div class="card my-3">
        <div class="card-header d-flex justify-content-between align-items-md-center">
            <div class="mr-auto"><h5>@ViewData["Title"]</h5></div>
            <div class="d-flex justify-content-end">
                <input type="submit" value="@Localizer["Stornieren"]" class="btn btn-primary mx-1" asp-all-route-data="@Model.GetRoute()" />
            </div>
        </div>

        <div>

        <div class="card-body">
            <span Condition="Model.ErrorMessage != null" class="text-danger">@Model.ErrorMessage</span>
            <table class="table table-striped m-0">
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.Id)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.Brand)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.Type)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.Color)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.FrameNumber)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.Description)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.TireSize)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.Products.List.First().Value.Price)</th>
                        <th scope="col">@Localizer["Status"]</th>
                    </tr>
                </thead>
                <tbody>
                    @for (var index = 0; index < Model.Products.List.Count; index++)
                    {
                    <tr>
                        <td scope="row">
                            <input asp-for="Products.List[index].IsSelected" class="form-check" />
                        </td>
                        <td>
                            <input type="hidden" asp-for="Products.List[index].Value.Id" />
                            @Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.Id)
                        </td>
                        <td>@Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.Brand.Name)</td>
                        <td>@Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.Type.Name)</td>
                        <td>@Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.Color)</td>
                        <td>@Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.FrameNumber)</td>
                        <td>@Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.Description)</td>
                        <td>@Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.TireSize)</td>
                        <td>@Html.DisplayFor(modelItem => modelItem.Products.List[index].Value.Price)</td>
                        <td>
                            <partial name="/Pages/Products/_StatusBadge.cshtml" model="@Model.Products.List[index].Value" />
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</form>




