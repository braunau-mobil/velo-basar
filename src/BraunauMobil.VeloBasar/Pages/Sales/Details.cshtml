@page
@model Sales.DetailsModel

@{
    ViewData["Title"] = $"{Html.DisplayNameFor(x => x.Sale)} #{Model.Sale.Number}";
}

<h2>@ViewData["Title"]</h2>

<div>
    <p>@Model.Sale.TimeStamp</p>
</div>

<partial name="/Pages/Products/_Table.cshtml" model="@new ProductsViewModel(Model.Basar, Model.Sale.GetProducts())" />

<p>
    @if (Model.Sale.DocumentId == null)
    {
        <a class="btn btn-default" asp-page="/Acceptances/Print" asp-all-route-data="@Model.GetRoute()" asp-route-acceptanceId="@Model.Sale.Number" target="_blank">@Localizer["Drucken"]</a>
    }
    else
    {
        <a class="btn btn-default" asp-page="/ShowFile" asp-route-fileId="@Model.Sale.DocumentId" target="_blank">@Localizer["Beleg"]</a>
    }
</p>
